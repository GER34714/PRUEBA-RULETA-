<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>FORTUNA PLAYâ„¢</title>

<meta property="og:title" content="FORTUNA PLAYâ„¢ - Gira la ruleta y gana premios">
<meta property="og:description" content="Gira la ruleta de FORTUNA PLAYâ„¢ cada 24 hs y gana premios increÃ­bles. Invita a tus amigos y multiplica la diversiÃ³n.">
<meta property="og:image" content="https://iili.io/KfQm7dF.md.jpg">
<meta property="og:url" content="https://tudominio.com/ruleta.html">
<meta property="og:type" content="website">
<meta property="og:site_name" content="FORTUNA PLAYâ„¢">

<style>
body {
Â  margin: 0;
Â  font-family: Arial Black, sans-serif;
Â  text-align: center;
Â  color: #0ff;
Â  background: url('https://iili.io/KfreSig.md.webp') no-repeat center center fixed;
Â  background-size: cover;
Â  text-shadow: 0 0 5px #000, 0 0 8px #000;
}
.logo-container {
Â  display: flex;
Â  justify-content: center;
Â  align-items: center;
Â  flex-direction: column;
Â  margin: 5px 0;
Â  width: 100%;
}
#logoTop {
Â  max-width: 45%;
Â  width: 100%;
Â  height: auto;
Â  display: block;
Â  margin: 0 auto 5px auto;
Â  filter: drop-shadow(0 0 10px #0ff);
Â  animation: neonLogo 2s infinite alternate;
}
#finalImage {
Â  max-width: 90%;
Â  height: auto;
Â  display: block;
Â  margin: 5px auto 0 auto;
Â  filter: drop-shadow(0 0 10px #0ff);
Â  animation: neonLogo 2s infinite alternate;
}
@keyframes neonLogo {
Â  0%   { filter: drop-shadow(0 0 10px #0ff); }
Â  25%  { filter: drop-shadow(0 0 15px #f0f); }
Â  50%  { filter: drop-shadow(0 0 10px #ff0); }
Â  75%  { filter: drop-shadow(0 0 15px #0f0); }
Â  100% { filter: drop-shadow(0 0 10px #0ff); }
}
.textos-superiores {
Â  text-align: center;
Â  font-size: clamp(1rem, 2.5vw, 1.3rem);
Â  font-weight: bold;
Â  line-height: 1.6;
Â  margin: 10px 0 15px 0;
Â  color: #0ff;
Â  text-shadow: 0 0 5px #000, 0 0 8px #000;
}
#wheelContainer {
Â  position: relative;
Â  width: 70vw;
Â  max-width: 250px;
Â  margin: 0 auto 5px auto;
}
#wheelCanvas { width: 100%; height: auto; }
#arrow {
Â  position: absolute;
Â  top: -10px;
Â  left: 50%;
Â  transform: translateX(-50%);
Â  width: 4px;
Â  height: 30px;
Â  background: #fff;
Â  border-radius: 2px;
Â  z-index: 10;
}
button {
Â  margin: 5px 0;
Â  padding: 12px 30px;
Â  font-size: clamp(1rem, 2vw, 1.2rem);
Â  border: none;
Â  border-radius: 50px;
Â  cursor: pointer;
Â  transition: .3s;
}
#spinButton {
Â  background: #ff0;
Â  color: #4b0082;
Â  font-weight: bold;
Â  box-shadow: 0 0 10px #000;
}
#winnerButton {
Â  margin-top: 10px;
Â  padding: 12px 25px;
Â  font-size: clamp(1rem, 2vw, 1.2rem);
Â  border-radius: 50px;
Â  background: #25D366;
Â  color: #fff;
Â  cursor: pointer;
Â  border: none;
}
#winnerButton:hover { transform: scale(1.08); }
#winnerPopup {
Â  position: fixed;
Â  top: 50%;
Â  left: 50%;
Â  transform: translate(-50%, -50%) scale(0);
Â  background: rgba(0, 0, 0, 0.95);
Â  padding: clamp(15px, 4vw, 25px);
Â  border-radius: 20px;
Â  color: #0ff;
Â  font-size: clamp(1rem, 3vw, 1.4rem);
Â  text-align: center;
Â  z-index: 1000;
Â  text-shadow: 0 0 5px #000, 0 0 8px #000;
Â  width: 90%;
Â  max-width: 400px;
Â  max-height: 80vh;
Â  overflow-y: auto;
Â  border: 3px solid #0ff;
Â  box-shadow: 0 0 20px #0ff, 0 0 40px #0ff, 0 0 60px #0ff;
}
#winnerPopup.show { transform: translate(-50%, -50%) scale(1); }
#winnerMessage, #winnerDate, #winnerNote, #winnerReturn, #timeRemaining { margin: 5px 0; }
#winnerNote { font-weight: bold; color: #0ff; }
#winnerReturn { font-weight: bold; color: #0ff; font-size: clamp(1rem, 2.5vw, 1.2rem); }
#timeRemaining { font-weight: bold; color: #ff0; font-size: clamp(1rem, 2.2vw, 1.1rem); }
#legal, #rights { font-size: clamp(0.7rem, 2vw, 0.9rem); margin: 2px 0; color: #0ff; text-shadow: 0 0 5px #000, 0 0 8px #000; }
#dailyCounter { margin-top: 3px; font-size: clamp(0.8rem, 2vw, 0.95rem); color: #0ff; text-shadow: 0 0 5px #000, 0 0 8px #000; }
canvas#confetti { position: absolute; top: 0; left: 0; pointer-events: none; width: 100%; height: 100%; }
@media (max-width: 600px) {
Â  #logoTop { max-width: 60%; }
Â  #wheelContainer { width: 80vw; }
Â  button { padding: 10px 20px; }
}
</style>
</head>
<body>

<div class="logo-container">
Â  <img id="logoTop" src="https://iili.io/KfLSxhG.md.webp" alt="Logo FORTUNA PLAY">
</div>

<div class="textos-superiores">
Â  ğŸ GIRA CADA 24 HS Y GANA ğŸ <br>
Â  ğŸ™Œ INVITA A TUS AMIGOS ğŸ™Œ <br>
Â  ğŸ“¸ RECORDÃ SACARLE CAPTURA A LOS PREMIOS ğŸ“¸
</div>

<div id="wheelContainer">
Â  <canvas id="wheelCanvas" width="250" height="250"></canvas>
Â  <div id="arrow"></div>
</div>

<button id="spinButton">GIRAR</button>
<div id="dailyCounter"></div>

<div id="winnerPopup">
Â  <canvas id="confetti"></canvas>
Â  <div id="winnerMessage"></div>
Â  <div id="winnerDate"></div>
Â  <div id="winnerNote">Â¡SÃCALE CAPTURA A ESTA PANTALLA PARA RECLAMAR TU PREMIO!</div>
Â  <div id="winnerReturn">Â¡VolvÃ© en 24 hs!</div>
Â  <div id="timeRemaining"></div> <!-- CONTADOR AGREGADO -->
Â  <button id="winnerButton">Solicitar premio</button>
</div>

<div class="logo-container">
Â  <img id="finalImage" src="https://iili.io/KK0OCrl.md.png" alt="Imagen final">
</div>

<div id="legal">+18 | Juego Responsable | Apuesta con moderaciÃ³n</div>
<div id="rights">Todos los derechos reservados FORTUNA PLAYâ„¢</div>

<script>
// Premios y cajeros
const prizes = [
Â  "10% extra (con carga min)",
Â  "15% extra (con carga min)",
Â  "20% extra (con carga min)",
Â  "30% extra (en mi 2da carga)",
Â  "1000 fichas (sin carga,no ret.)",
Â  "500 fichas (sin carga,no ret.)",
Â  "300 fichas (sin carga ,no ret.)"
];

let cashiers = [
Â  {nombre:'Martin',telefono:'5491132525913'},
Â  {nombre:'Lucas',telefono:'5491171334027'},
Â  {nombre:'Cami',telefono:'5491156349123'},
Â  {nombre:'Octavio',telefono:'5491173566830'},
Â  {nombre:'Joaki',telefono:'5491123365501'},
Â  {nombre:'Facu',telefono:'5491125127839'},
Â  {nombre:'Ale',telefono:'5492615027973'}
];

function shuffle(array){
Â  for(let i=array.length-1;i>0;i--){
Â  Â  const j=Math.floor(Math.random()*(i+1));
Â  Â  [array[i],array[j]]=[array[j],array[i]];
Â  }
}

// Datos del usuario
let userData = JSON.parse(localStorage.getItem('userData')) || {lastSpin:0,assignedCashier:null,lastPrize:null};
let dailyCount = Math.floor(Math.random()*500+100);

const spinBtn = document.getElementById('spinButton');
const dailyCounter = document.getElementById('dailyCounter');
const popup = document.getElementById('winnerPopup');
const winnerMsg = document.getElementById('winnerMessage');
const winnerDate = document.getElementById('winnerDate');
const winnerBtn = document.getElementById('winnerButton');
const canvas = document.getElementById('wheelCanvas');
const ctx = canvas.getContext('2d');
const wheelRadius = canvas.width/2;
let angle = 0;
const colors=["#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"];
const timeRemaining = document.getElementById('timeRemaining');

// Dibujar ruleta
function drawWheel(){
Â  const num = prizes.length, arc = 2*Math.PI/num;
Â  ctx.clearRect(0,0,canvas.width,canvas.height);
Â  for(let i=0;i<num;i++){
Â  Â  const start = i*arc, end = start+arc;
Â  Â  ctx.beginPath();
Â  Â  ctx.moveTo(wheelRadius,wheelRadius);
Â  Â  ctx.arc(wheelRadius,wheelRadius,wheelRadius,start+angle,end+angle);
Â  Â  ctx.fillStyle = colors[i%colors.length];
Â  Â  ctx.fill();
Â  Â  ctx.strokeStyle = '#fff';
Â  Â  ctx.lineWidth = 2;
Â  Â  ctx.stroke();
Â  Â  ctx.save();
Â  Â  ctx.translate(wheelRadius,wheelRadius);
Â  Â  ctx.rotate(start+arc/2+angle);
Â  Â  ctx.fillStyle = '#000';
Â  Â  ctx.font = 'bold 20px Arial';
Â  Â  ctx.textAlign = 'center';
Â  Â  ctx.fillText(String(i+1), wheelRadius/2, 10);
Â  Â  ctx.restore();
Â  }
}
drawWheel();

// Confetti
const confCanvas = document.getElementById('confetti');
const confCtx = confCanvas.getContext('2d');
confCanvas.width = popup.offsetWidth;
confCanvas.height = popup.offsetHeight;
let confettiParticles=[];
function launchConfetti(){
Â  confettiParticles=[];
Â  for(let i=0;i<100;i++){
Â  Â  confettiParticles.push({
Â  Â  Â  x: Math.random()*confCanvas.width,
Â  Â  Â  y: Math.random()*confCanvas.height-50,
Â  Â  Â  r: Math.random()*6+2,
Â  Â  Â  dx: (Math.random()-0.5)*4,
Â  Â  Â  dy: Math.random()*4+1,
Â  Â  Â  color: `hsl(${Math.random()*360},100%,50%)`
Â  Â  })
Â  }
Â  animateConfetti();
}
function animateConfetti(){
Â  confCtx.clearRect(0,0,confCanvas.width,confCanvas.height);
Â  confettiParticles.forEach(p=>{
Â  Â  p.x += p.dx; p.y += p.dy;
Â  Â  if(p.y>confCanvas.height) p.y=0;
Â  Â  confCtx.beginPath();
Â  Â  confCtx.arc(p.x,p.y,p.r,0,Math.PI*2);
Â  Â  confCtx.fillStyle = p.color;
Â  Â  confCtx.fill();
Â  });
Â  if(confettiParticles.length>0){
Â  Â  requestAnimationFrame(animateConfetti);
Â  Â  confettiParticles = confettiParticles.filter(p=>p.y<confCanvas.height);
Â  }
}

// Cajero fijo por usuario
function getAssignedCashier() {
Â  if(userData.assignedCashier) return userData.assignedCashier;

Â  let usedCashiers = JSON.parse(localStorage.getItem('usedCashiers')) || [];
Â  let remaining = cashiers.filter(c => !usedCashiers.includes(c.nombre));

Â  if(remaining.length === 0){
Â  Â  usedCashiers = [];
Â  Â  shuffle(cashiers);
Â  Â  remaining = [...cashiers];
Â  }

Â  const assigned = remaining[Math.floor(Math.random()*remaining.length)];
Â  usedCashiers.push(assigned.nombre);
Â  localStorage.setItem('usedCashiers', JSON.stringify(usedCashiers));

Â  userData.assignedCashier = assigned;
Â  localStorage.setItem('userData', JSON.stringify(userData));
Â  return assigned;
}

// Control de giro cada 24 hs
const ms24h = 24*60*60*1000;
const nowTime = Date.now();

// FunciÃ³n para actualizar tiempo restante
function updateTimeRemaining(){
Â  const now = Date.now();
Â  const diff = ms24h - (now - userData.lastSpin);
Â  if(diff>0){
Â  Â  let h = Math.floor(diff / (1000*60*60));
Â  Â  let m = Math.floor((diff % (1000*60*60)) / (1000*60));
Â  Â  let s = Math.floor((diff % (1000*60)) / 1000);
Â  Â  timeRemaining.textContent = `VolvÃ© en: ${h}h ${m}m ${s}s`;
Â  Â  setTimeout(updateTimeRemaining, 1000);
Â  } else {
Â  Â  spinBtn.disabled = false;
Â  Â  popup.classList.remove('show');
Â  Â  timeRemaining.textContent = '';
Â  }
}

// Mostrar popup si ya girÃ³
if(nowTime - userData.lastSpin < ms24h && userData.lastPrize){
Â  spinBtn.disabled = true;
Â  popup.classList.add('show');
Â  winnerMsg.textContent = `Â¡Ganaste: ${userData.lastPrize}!`;
Â  winnerDate.textContent = `Fecha y hora: ${new Date(userData.lastSpin).toLocaleString()}`;
Â  winnerBtn.style.display = 'inline-block';
Â  updateTimeRemaining();
}

// Giro de ruleta
spinBtn.addEventListener('click',()=>{
Â  spinBtn.disabled = true;
Â  const assignedCashier = getAssignedCashier();
Â  const spinAngle = Math.random()*Math.PI*4+Math.PI*4;
Â  const duration = 3000;
Â  const start = performance.now();
Â  const startAngle = angle;

Â  function animate(time){
Â  Â  let elapsed = time-start;
Â  Â  if(elapsed>duration) elapsed = duration;
Â  Â  const progress = elapsed/duration;
Â  Â  angle = startAngle + spinAngle*easeOutCubic(progress);
Â  Â  drawWheel();
Â  Â  if(elapsed<duration) requestAnimationFrame(animate);
Â  Â  else finishSpin();
Â  }
Â  requestAnimationFrame(animate);

Â  function finishSpin(){
Â  Â  const num = prizes.length;
Â  Â  const sector = Math.floor((angle%(2*Math.PI))/(2*Math.PI/num));
Â  Â  const prize = prizes[(num-sector+num)%num];

Â  Â  const now = new Date();
Â  Â  const nowStr = now.toLocaleString();

Â  Â  winnerMsg.textContent = `Â¡Ganaste: ${prize}!`;
Â  Â  winnerDate.textContent = `Fecha y hora: ${nowStr}`;
Â  Â  popup.classList.add('show');
Â  Â  winnerBtn.style.display = 'inline-block';
Â  Â  launchConfetti();

Â  Â  dailyCount++;
Â  Â  dailyCounter.textContent=`Hoy ya giraron ${dailyCount} personas.`;

Â  Â  userData.lastSpin = now.getTime();
Â  Â  userData.lastPrize = prize;
Â  Â  localStorage.setItem('userData', JSON.stringify(userData));

Â  Â  updateTimeRemaining(); // Inicia contador al girar

Â  Â  winnerBtn.onclick = ()=>{
Â  Â  Â  const mensaje = encodeURIComponent(`Hola ${assignedCashier.nombre}! GanÃ© ${prize} el ${nowStr} y quisiera reclamarlo. Muchas gracias`);
Â  Â  Â  const url = `https://wa.me/${assignedCashier.telefono}?text=${mensaje}`;
Â  Â  Â  window.open(url,'_blank');
Â  Â  }
Â  }
});

function easeOutCubic(t){return 1-Math.pow(1-t,3);}
</script>
</body>
</html>
